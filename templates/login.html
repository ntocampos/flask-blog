<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Flask Blog - Login</title>
    </head>
    <body>
        {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for m in messages %}
            <p style='color: red;'>{{ m }}</p>
            {% endfor %}
        {% endif %}
        {% endwith %}

        {% if not session.get('is_authenticated') %}
        <form class="" action="/login" method="post">
            <label>Username: </label>
            <input type="text" name="username" placeholder="Username">

            <label>Password: </label>
            <input type="password" name="password" placeholder="Password">

            <input type="submit" name="name" value="Log in">
        </form>
        {% else %}
        <p style="color: red;">You are already logged in!</p>
        <p><a href="/logout">Cick here</a> to log out.</p>
        {% endif %}

        {% if session.get('is_authenticated') %}
        <p>
            Username: <strong>{{ g.current_user.username }}</strong>
        </p>
        {% endif %}
    </body>
</html>
